{"mappings":"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","sources":["landing/scripts/WaitlistProvider.js","landing/index.js","landing/scripts/WaitlistModal.js","landing/scripts/HeaderComponent.js"],"sourcesContent":["export class WaitlistProvider {\n  constructor(selector) {\n    this.root = document.querySelector(selector);\n    this.input = this.root.querySelector(\"input\");\n    this.button = this.root.querySelector(\"button\");\n\n    const mask = \"+X (XXX) XXX-XX-XXXX\".split(\"\");\n    this.input.addEventListener(\"input\", (e) => {\n      const numbers = this.input.value.replace(/\\D/g, \"\").split(\"\");\n\n      let result = \"\";\n      for (let i = 0; i < mask.length; i++) {\n        if (numbers.length == 0) break;\n        const char = mask[i];\n        if ([\" \", \"(\", \")\", \"+\", \"-\"].includes(char)) {\n          if (numbers.length) result += char;\n          else break;\n          continue;\n        }\n\n        result += numbers.shift();\n      }\n\n      this.input.value = result;\n    });\n\n    this.button.addEventListener(\"click\", async () => {\n      await this.submit(this.input.value);\n    });\n  }\n\n  async submit(phone) {\n    const res = await fetch({\n      method: \"POST\",\n      url: \"https://api.herewallet.app/v1/waitlist\",\n      body: JSON.stringify({ phone }),\n    });\n  }\n}\n","import { HeaderComponent } from \"./scripts/HeaderComponent\"\nimport { WaitlistModal } from './scripts/WaitlistModal'\n\nconst waitlistModal = new WaitlistModal()\nconst headerInstance = new HeaderComponent()\nconst page = document.getElementsByClassName(\"page-background\")[0];\nconst news = document.getElementsByClassName(\"news\")[0];\n\nconst updateScroll = () => {\n  let pad = window.innerWidth < 1600 ? 44 : 88;\n  pad = window.innerWidth < 1200 ? 12 : pad;\n\n  let tophold = window.innerWidth < 800 ? 260 : 620;\n  let scroll = Math.max(0, window.scrollY - tophold) * 0.005;\n  let offset = Math.max(pad * (1 - scroll), 0);\n  page.style.left = offset + \"px\";\n  page.style.right = offset + \"px\";\n\n  const { y: newsY, height: newsHeight } = news.getBoundingClientRect();\n  console.log(newsY, newsHeight, 1 - (newsY - 100) / (newsHeight + 100));\n  let opacity = 1 - (newsY - 100) / newsHeight;\n  opacity = opacity > 1 ? 2 - opacity : opacity;\n  news.style.backgroundColor = `rgba(175, 115, 230, ${opacity})`;\n};\n\ndocument.addEventListener(\"scroll\", updateScroll);\nupdateScroll();\n\nArray.from(document.querySelectorAll(\".ask-block\")).forEach((el) => {\n  el.addEventListener(\"click\", () => {\n    const { height } = el\n      .querySelector(\".ask-block-body\")\n      .getBoundingClientRect();\n    el.classList.toggle(\"open\");\n    el.style.height = el.classList.contains(\"open\")\n      ? `${91 + height}px`\n      : \"91px\";\n  });\n});\n\nArray.from(document.querySelectorAll(\".waitlist-button\")).forEach((el) => {\n  el.addEventListener(\"click\", () => {\n    if (window.innerWidth <= 778) {\n      headerInstance.toggleModal()\n    } else {\n      waitlistModal.open()\n    }\n  });\n});\n","import { WaitlistProvider } from \"./WaitlistProvider\";\n\nexport class WaitlistModal {\n  constructor() {\n    this.el = document.getElementById(\"waitlist-modal\");\n    this.provider = new WaitlistProvider(\"#waitlist-modal\");\n\n    this.el.addEventListener(\"click\", () => this.close());\n    this.el\n      .querySelector(\".modal-body\")\n      .addEventListener(\"click\", (e) => e.stopPropagation());\n  }\n\n  close() {\n    this.el.classList.remove(\"open\");\n    document.body.style.overflow = \"\";\n  }\n\n  open() {\n    this.el.classList.add(\"open\");\n    this.el.querySelector(\"input\")?.focus();\n    document.body.style.overflow = \"hidden\";\n  }\n}\n","import { WaitlistProvider } from \"./WaitlistProvider\";\n\nexport class HeaderComponent {\n  provider = new WaitlistProvider(\".header-form\");\n  header = document.querySelector(\".header\");\n  floatQr = document.querySelector(\".float-qr\");\n  isOpen = false;\n\n  constructor() {\n    this.headerBody = this.header.querySelector(\".header-body\");\n    this.btn = this.header.querySelector(\".header-action\");\n    this.btn.addEventListener(\"click\", () => this.toggleModal());\n\n    this.header.classList.toggle(\"active\", window.scrollY > 0);\n    this.floatQr.classList.toggle(\"active\", window.scrollY > 600);\n\n    window.addEventListener(\"scroll\", () => {\n      this.header.classList.toggle(\"active\", window.scrollY > 0);\n      this.floatQr.classList.toggle(\"active\", window.scrollY > 600);\n    });\n  }\n\n  toggleModal = () => {\n    this.btn.classList.toggle(\"open\");\n    this.headerBody.style.height = `${window.innerHeight - 72}px`;\n    this.headerBody.classList.toggle(\"open\");\n\n    this.isOpen = !this.isOpen;\n    document.body.style.overflow = this.isOpen ? \"hidden\" : \"\";\n  };\n}\n"],"names":["$784358fa64496384$export$eef0cfc2e8c950b","constructor","selector","this","root","document","querySelector","input","button","mask","split","addEventListener","e","numbers","value","replace","result","i","length","char","includes","shift","async","submit","phone","fetch","method","url","body","JSON","stringify","$8a6059f8b8715ac7$var$waitlistModal","el","getElementById","provider","close","stopPropagation","classList","remove","style","overflow","open","add","focus","$8a6059f8b8715ac7$var$headerInstance","header","floatQr","isOpen","headerBody","btn","toggleModal","toggle","window","scrollY","height","innerHeight","$8a6059f8b8715ac7$var$page","getElementsByClassName","$8a6059f8b8715ac7$var$news","$8a6059f8b8715ac7$var$updateScroll","pad","innerWidth","tophold","scroll","Math","max","offset","left","right","y","newsY","newsHeight","getBoundingClientRect","console","log","opacity","backgroundColor","Array","from","querySelectorAll","forEach","contains"],"version":3,"file":"index.ca5a7e6c.js.map"}